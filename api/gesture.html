<!DOCTYPE html>
<html lang="en">
<head>
  <title>Kontra.js – Gesture</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base href="https://straker.github.io/kontra/">

  <script>
  // adjust path based on location (github pages required kontra url)
  if (['localhost', '127.0.0.1'].includes(window.location.hostname)) {
    let base = document.querySelector('base');
    base.setAttribute('href', '/');
  }
  </script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/themes/prism.min.css">
  <link rel="stylesheet" href="assets/styles.css">
  <script src="assets/js/kontra.js"></script>
</head>
<body>
  <div class="content">
    <header class="main-nav">
      <div id="kontra-heading" class="nav-heading">Kontra</div>
      <a href="#main">Skip navigation</a>

      <nav>
        <button class="menu-button" aria-expanded="false" aria-controls="menu"><span aria-hidden="true">☰</span> Menu</button>

        <!-- add role=list back to list so screen readers still read it as list when
             css list-style: none is set
             @see https://web-a11y.slack.com/archives/C042TSFGN/p1501699529181172 -->
        <ul id="menu" role="list">
          <li>
            <div aria-hidden="true" class="cached-icon" id="link-intro">
              <span class="visually-hidden">Cached for offline viewing</span>
            </div>
            <a href="." id="root-link" >Introduction</a>
          </li>
          <li>
             <div aria-hidden="true" class="cached-icon" id="link-getting-started">
              <span class="visually-hidden">Cached for offline viewing</span>
            </div>
            <a href="getting-started" >Getting Started</a>
          </li>
          <li>
             <div aria-hidden="true" class="cached-icon" id="link-download">
              <span class="visually-hidden">Cached for offline viewing</span>
            </div>
            <a href="download" >Download</a>
          </li>
          <li>
             <div aria-hidden="true" class="cached-icon" id="link-file-size">
              <span class="visually-hidden">Cached for offline viewing</span>
            </div>
            <a href="reducing-file-size" >Reducing File Size</a>
          </li>
          <li>
             <div aria-hidden="true" class="cached-icon" id="link-tutorials">
              <span class="visually-hidden">Cached for offline viewing</span>
            </div>
            <a href="tutorials" >Tutorials</a>
          </li>
          <li>
             <div aria-hidden="true" class="cached-icon" id="link-made-with">
              <span class="visually-hidden">Cached for offline viewing</span>
            </div>
            <a href="made-with-kontra" >Made With Kontra</a>
          </li>

          <li>
            <span id="api" class="nav-api-heading">API</span>
            <ul aria-labelledby="api">
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-animation">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/animation" >Animation</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-assets">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/assets" >Assets</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-button">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/button" >Button</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-core">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/core" >Core</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-events">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/events" >Events</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-gameLoop">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/gameLoop" >GameLoop</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-gameObject">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/gameObject" >GameObject</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-gamepad">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/gamepad" >Gamepad</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-gesture">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/gesture" aria-current="page">Gesture</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-grid">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/grid" >Grid</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-helpers">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/helpers" >Helpers</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-input">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/input" >Input</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-keyboard">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/keyboard" >Keyboard</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-plugin">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/plugin" >Plugin</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-pointer">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/pointer" >Pointer</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-pool">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/pool" >Pool</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-quadtree">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/quadtree" >Quadtree</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-scene">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/scene" >Scene</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-sprite">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/sprite" >Sprite</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-spriteSheet">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/spriteSheet" >SpriteSheet</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-text">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/text" >Text</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-tileEngine">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/tileEngine" >TileEngine</a>
              </li>
              <li>
                <div aria-hidden="true" class="cached-icon" id="link-vector">
                  <span class="visually-hidden">Cached for offline viewing</span>
                </div>
                <a href="api/vector" >Vector</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <div class="scroll-indicator" aria-hidden="true"><span>^</span></div>
    </header>

    <script>
      // restore scroll position on page load (do it here so there is no flash
      // of unscrolled content)
      let nav = document.querySelector('.main-nav');
      if (sessionStorage.getItem('kontra-nav-scroll')) {
        nav.scrollTop = parseInt(sessionStorage.getItem('kontra-nav-scroll'));

        if (nav.offsetHeight + nav.scrollTop < nav.scrollHeight) {
          nav.classList.add('showScroll');
        }
      }
    </script>

    <main id="main">
      <div>
        <a href="https://github.com/straker/kontra" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

        <h1>Gesture        </h1>

        <p>A simple gesture API. You can use it to move the main sprite or respond to gesture events.</p>
<div class="tablist">
  <ul role="tablist">
    <li role="presentation" data-tab="global">
      <button role="tab" id="gesture-global-tab">Global Object</button>
    </li>
    <li role="presentation" data-tab="es">
      <button role="tab" id="gesture-es-tab">ES Module Import</button>
    </li>
    <li role="presentation" data-tab="bundle">
      <button role="tab" id="gesture-bundle-tab">Module Bundler</button>
    </li>
    <li role="presentation"></li>
  </ul>
  <section role="tabpanel" aria-labelledby=gesture-global-tab data-tabpanel="global"><pre><code class="language-js">let { initPointer, initGesture, onGesture } = kontra;

// these functions must be called first before gesture
// functions will work
initPointer();
initGesture();

onGesture(&#39;swipeleft&#39;, function() {
  // handle swipeleft event
})</code></pre></section>
  <section role="tabpanel" aria-labelledby=gesture-es-tab data-tabpanel="es"><pre><code class="language-js">import { initPointer, initGesture, onGesture } from 'path/to/kontra.mjs';

// these functions must be called first before gesture
// functions will work
initPointer();
initGesture();

onGesture(&#39;swipeleft&#39;, function() {
  // handle swipeleft event
})</code></pre></section>
  <section role="tabpanel" aria-labelledby=gesture-bundle-tab data-tabpanel="bundle"><pre><code class="language-js">import { initPointer, initGesture, onGesture } from &#39;kontra&#39;;

// these functions must be called first before gesture
// functions will work
initPointer();
initGesture();

onGesture(&#39;swipeleft&#39;, function() {
  // handle swipeleft event
})</code></pre></section>
</div>
        

        <section class="toc">
          <h2 id="toc"><a href="#toc" class="section-link">Table of Contents<span aria-hidden="true">#</span></a></h2>

          <ul aria-labelledby="toc">
            <li>
              <ul>
                <li><a href="api/gesture#available-gestures">Available Gestures</a></li>
              </ul>
            </li>

            <li>
              <h3 id="properties">Properties</h3>
              <ul aria-labelledby="properties">
                <li>
                  <a href="api/gesture#gestureMap">
                    <span>gestureMap</span>
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <h3 id="methods">Methods</h3>
              <ul aria-labelledby="methods">
                <li>
                  <a href="api/gesture#initGesture">
                    <span>initGesture(&#8203;)</span>
                  </a>
                </li>
                <li>
                  <a href="api/gesture#offGesture">
                    <span>offGesture(&#8203;gestures)</span>
                  </a>
                </li>
                <li>
                  <a href="api/gesture#onGesture">
                    <span>onGesture(&#8203;gestures, callback)</span>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </section>

        <section>
          <h2 id="available-gestures">
            <a href="api/gesture#available-gestures" class="section-link">
              <span>Available Gestures</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Below is a list of gestures that are provided by default. If you need to extend this list, you can use the <a href="api/gesture#gestureMap">gestureMap</a> property.</p>
<ul>
<li>swipeleft, swipeup, swiperight, swipedown</li>
<li>pinchin, pinchout</li>
</ul>
        </section>

        <section>
          <h2 id="gestureMap">
            <a href="api/gesture#gestureMap" class="section-link">
              <span>gestureMap</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p><em>Object</em>. A map of gesture objects to gesture names. Add to this object to expand the list of <a href="api/gesture#available-gestures">available gestures</a>.</p>
<p>The gesture name should be the overall name of the gesture (e.g. swipe, pinch) and not include any directional information (e.g. left, in).</p>
<p>A gesture object should have a <code>touches</code> property and at least one touch event function. The provided gestures also have a <code>threshold</code> property which is the minimum distance before the gesture is recognized.</p>
<p>The <code>touches</code> property is a number that indicates how many touch points are required for the gesture. A touch event function is a function whose name should match the touch event name it triggers on (e.g. touchstart, touchmove). A touch event function is passed a touch object.</p>
<p>A gesture can have multiple touch event functions, but one of them must return the direction of the gesture (e.g. left, in). The gesture name and the gesture direction are combined together as the callback name for <a href="api/gesture#onGesture">onGesture</a> (e.g. swipeleft, pinchin).</p>
<p>A touch object is an array-like object where each index is a touch. A touch has the current <code>x</code> and <code>y</code> position of the touch and a <code>start</code> property which has the initial start <code>x</code> and <code>y</code> position.</p>
<div class="tablist">
  <ul role="tablist">
    <li role="presentation" data-tab="global">
      <button role="tab" id="gesturemap-global-tab">Global Object</button>
    </li>
    <li role="presentation" data-tab="es">
      <button role="tab" id="gesturemap-es-tab">ES Module Import</button>
    </li>
    <li role="presentation" data-tab="bundle">
      <button role="tab" id="gesturemap-bundle-tab">Module Bundler</button>
    </li>
    <li role="presentation"></li>
  </ul>
  <section role="tabpanel" aria-labelledby=gesturemap-global-tab data-tabpanel="global"><pre><code class="language-js">let { gestureMap, onGesture } = kontra;

// pan is the name of the gesture
gestureMap.pan = {
  // panning uses 1 touch
  touches: 1,
  // panning is triggered on touchmove
  touchmove({ 0: touch }) {
    let x = touch.x - touch.start.x;
    let y = touch.y - touch.start.y;
    let absX = Math.abs(x);
    let absY = Math.abs(y);

    // return the direction the pan
    return absX &gt; absY
      ? x &lt; 0 ? &#39;left&#39; : &#39;right&#39;
      : y &lt; 0 ? &#39;up&#39; : &#39;down&#39;
  }
};

// the gesture name and direction are combined as the callback name
onGesture(&#39;panleft&#39;, function(e, touches) {
  // handle panleft gesture
});</code></pre></section>
  <section role="tabpanel" aria-labelledby=gesturemap-es-tab data-tabpanel="es"><pre><code class="language-js">import { gestureMap, onGesture } from 'path/to/kontra.mjs';

// pan is the name of the gesture
gestureMap.pan = {
  // panning uses 1 touch
  touches: 1,
  // panning is triggered on touchmove
  touchmove({ 0: touch }) {
    let x = touch.x - touch.start.x;
    let y = touch.y - touch.start.y;
    let absX = Math.abs(x);
    let absY = Math.abs(y);

    // return the direction the pan
    return absX &gt; absY
      ? x &lt; 0 ? &#39;left&#39; : &#39;right&#39;
      : y &lt; 0 ? &#39;up&#39; : &#39;down&#39;
  }
};

// the gesture name and direction are combined as the callback name
onGesture(&#39;panleft&#39;, function(e, touches) {
  // handle panleft gesture
});</code></pre></section>
  <section role="tabpanel" aria-labelledby=gesturemap-bundle-tab data-tabpanel="bundle"><pre><code class="language-js">import { gestureMap, onGesture } from &#39;kontra&#39;;

// pan is the name of the gesture
gestureMap.pan = {
  // panning uses 1 touch
  touches: 1,
  // panning is triggered on touchmove
  touchmove({ 0: touch }) {
    let x = touch.x - touch.start.x;
    let y = touch.y - touch.start.y;
    let absX = Math.abs(x);
    let absY = Math.abs(y);

    // return the direction the pan
    return absX &gt; absY
      ? x &lt; 0 ? &#39;left&#39; : &#39;right&#39;
      : y &lt; 0 ? &#39;up&#39; : &#39;down&#39;
  }
};

// the gesture name and direction are combined as the callback name
onGesture(&#39;panleft&#39;, function(e, touches) {
  // handle panleft gesture
});</code></pre></section>
</div>
          
        </section>
        <section>
          <h2 id="initGesture">
            <a href="api/gesture#initGesture" class="section-link">
              <span>initGesture(&#8203;)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Initialize gesture event listeners. This function must be called before using other gesture functions. Gestures depend on pointer events, so <a href="api/pointer#initPointer">initPointer</a> must be called as well.</p>
          
        </section>
        <section>
          <h2 id="offGesture">
            <a href="api/gesture#offGesture" class="section-link">
              <span>offGesture(&#8203;gestures)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Unregister the callback function for a gesture.</p>
<div class="tablist">
  <ul role="tablist">
    <li role="presentation" data-tab="global">
      <button role="tab" id="offgesture-global-tab">Global Object</button>
    </li>
    <li role="presentation" data-tab="es">
      <button role="tab" id="offgesture-es-tab">ES Module Import</button>
    </li>
    <li role="presentation" data-tab="bundle">
      <button role="tab" id="offgesture-bundle-tab">Module Bundler</button>
    </li>
    <li role="presentation"></li>
  </ul>
  <section role="tabpanel" aria-labelledby=offgesture-global-tab data-tabpanel="global"><pre><code class="language-js">let { initPointer, initGesture, offGesture } = kontra;

initPointer();
initGesture();

offGesture(&#39;swipeleft&#39;);</code></pre></section>
  <section role="tabpanel" aria-labelledby=offgesture-es-tab data-tabpanel="es"><pre><code class="language-js">import { initPointer, initGesture, offGesture } from 'path/to/kontra.mjs';

initPointer();
initGesture();

offGesture(&#39;swipeleft&#39;);</code></pre></section>
  <section role="tabpanel" aria-labelledby=offgesture-bundle-tab data-tabpanel="bundle"><pre><code class="language-js">import { initPointer, initGesture, offGesture } from &#39;kontra&#39;;

initPointer();
initGesture();

offGesture(&#39;swipeleft&#39;);</code></pre></section>
</div>
          <h3 id="title-offGesture"><span class="visually-hidden">offGesture</span> Parameters</span></h3>
          <dl aria-labelledby="title-offGesture">
            <dt>
              <code>gestures</code>
              
            </dt>
            <dd><p><em>String or an Array of Strings</em>. Gesture or gestures to unregister callback for.</p>
          </dd>
          </dl>
          
        </section>
        <section>
          <h2 id="onGesture">
            <a href="api/gesture#onGesture" class="section-link">
              <span>onGesture(&#8203;gestures, callback)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Register a function to be called on a gesture event. Is passed the original Event and the touch object, an array-like object of touches.</p>
<div class="tablist">
  <ul role="tablist">
    <li role="presentation" data-tab="global">
      <button role="tab" id="ongesture-global-tab">Global Object</button>
    </li>
    <li role="presentation" data-tab="es">
      <button role="tab" id="ongesture-es-tab">ES Module Import</button>
    </li>
    <li role="presentation" data-tab="bundle">
      <button role="tab" id="ongesture-bundle-tab">Module Bundler</button>
    </li>
    <li role="presentation"></li>
  </ul>
  <section role="tabpanel" aria-labelledby=ongesture-global-tab data-tabpanel="global"><pre><code class="language-js">let { initPointer, initGesture, onGesture } = kontra;

initPointer();
initGesture();

onGesture(&#39;swipeleft&#39;, function(e, touches) {
  // handle swipeleft gesture
});</code></pre></section>
  <section role="tabpanel" aria-labelledby=ongesture-es-tab data-tabpanel="es"><pre><code class="language-js">import { initPointer, initGesture, onGesture } from 'path/to/kontra.mjs';

initPointer();
initGesture();

onGesture(&#39;swipeleft&#39;, function(e, touches) {
  // handle swipeleft gesture
});</code></pre></section>
  <section role="tabpanel" aria-labelledby=ongesture-bundle-tab data-tabpanel="bundle"><pre><code class="language-js">import { initPointer, initGesture, onGesture } from &#39;kontra&#39;;

initPointer();
initGesture();

onGesture(&#39;swipeleft&#39;, function(e, touches) {
  // handle swipeleft gesture
});</code></pre></section>
</div>
          <h3 id="title-onGesture"><span class="visually-hidden">onGesture</span> Parameters</span></h3>
          <dl aria-labelledby="title-onGesture">
            <dt>
              <code>gestures</code>
              
            </dt>
            <dd><p><em>String or an Array of Strings</em>. Gesture or gestures to register callback for.</p>
          </dd>
            <dt>
              <code>callback</code>
              
            </dt>
            <dd><p><em>Function</em>. Function to call on gesture events.</p>
          </dd>
          </dl>
          
        </section>

      </div>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/components/prism-javascript.min.js"></script>
  <script>
  // only service worker off localhost
  if (
    'serviceWorker' in navigator &&
    !['localhost', '127.0.0.1'].includes(window.location.hostname)
  ) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('service-worker.js')
      .then(registration => {
        console.log('Service Worker is registered', registration);

        // cache this page
        let cachedPages = JSON.parse(localStorage.getItem('kontra-docs-pages') || "{}");
        cachedPages[window.location.href] = true;

        // always cache the index
        cachedPages[document.querySelector('#root-link').href] = true;

        localStorage.setItem('kontra-docs-pages', JSON.stringify(cachedPages));

        // show user cached pages
        document.querySelectorAll('#menu a').forEach(anchor => {
          if (cachedPages[anchor.href]) {
            let id = anchor.previousElementSibling.getAttribute('id');

            anchor.parentNode.classList.add('cached');
            anchor.setAttribute('aria-describedby', id);
          }
        });
      })
      .catch(err => {
        console.error('Registration failed:', err);
      });
    });
  }
  </script>
  <script src="assets/js/navbar.js"></script>
  <script src="assets/js/exampleTabList.js"></script>
</body>
</html>