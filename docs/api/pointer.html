<!DOCTYPE html>
<html>
<head>
  <title>Kontra.js – Pointer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/themes/prism.min.css">
  <link rel="stylesheet" href="../styles.css">

  <script src="../js/kontra.js"></script>
</head>
<body>
  <div class="content">
    <header class="main-nav">
      <h1 id="kontra-heading">Kontra</h1>
      <a href="#main">Skip navigation</a>

      <nav aria-labelledby="kontra-heading">
        <button class="menu-button" aria-expanded="false" aria-controls="menu"><span aria-hidden="true">☰</span> Menu</button>

        <!-- add role=list back to list so screen readers still read it as list when
             css list-style: none is set
             @see https://web-a11y.slack.com/archives/C042TSFGN/p1501699529181172 -->
        <ul id="menu" role="list">
          <li><a href="/" >Introduction</a></li>
          <li><a href="/getting-started" >Getting Started</a></li>
          <li><a href="/tutorials" >Tutorials</a></li>
          <li><a href="/made-with-kontra" >Made With Kontra</a></li>

          <li>
            <h2 id="api">API</h2>
            <ul aria-labelledby="api">
              <li><a href="/api/animation" >Animation</a></li>
              <li><a href="/api/assets" >Assets</a></li>
              <li><a href="/api/core" >Core</a></li>
              <li><a href="/api/events" >Events</a></li>
              <li><a href="/api/gameloop" >GameLoop</a></li>
              <li><a href="/api/keyboard" >Keyboard</a></li>
              <li><a href="/api/plugin" >Plugin</a></li>
              <li><a href="/api/pointer" aria-current="page">Pointer</a></li>
              <li><a href="/api/pool" >Pool</a></li>
              <li><a href="/api/quadtree" >Quadtree</a></li>
              <li><a href="/api/sprite" >Sprite</a></li>
              <li><a href="/api/spritesheet" >SpriteSheet</a></li>
              <li><a href="/api/store" >Store</a></li>
              <li><a href="/api/tileengine" >TileEngine</a></li>
              <li><a href="/api/vector" >Vector</a></li>
            </ul>
          </li>
        </ul>
      </nav>
      <div class="scroll-indicator" aria-hidden="true"><span>^</span></div>
    </header>

    <main id="main">
      <div>
        <a href="https://github.com/straker/kontra" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

        <h1>Pointer        </h1>

        <p>A simple pointer API. You can use it move the main sprite or respond to a pointer event. Works with both mouse and touch events.</p>
<p>Pointer events can be added on a global level or on individual sprites or objects. Before an object can receive pointer events, you must tell the pointer which objects to track and the object must haven been rendered to the canvas using <code>object.render()</code>.</p>
<p>After an object is tracked and rendered, you can assign it an <code>onDown()</code>, <code>onUp()</code>, or <code>onOver()</code> functions which will be called whenever a pointer down, up, or over event happens on the object.</p>
<pre><code class="lang-js">import { initPointer, track, Sprite } from &#39;kontra&#39;;

// this function must be called first before pointer
// functions will work
initPointer();

let sprite = Sprite({
  onDown: function() {
    // handle on down events on the sprite
  },
  onUp: function() {
    // handle on up events on the sprite
  },
  onOver: function() {
    // handle on over events on the sprite
  }
});

track(sprite);
sprite.render();
</code></pre>
<p>By default, the pointer is treated as a circle and will check for collisions against objects assuming they are rectangular (have a width and height property).</p>
<p>If you need to perform a different type of collision detection, assign the object a collidesWithPointer(pointer) function and it will be called instead, passing the current pointer object. Use this function to determine how the pointer circle should collide with the object.</p>
<pre><code class="lang-js">import { Sprite } from &#39;kontra&#39;;

let sprite = Srite({
  x: 10,
  y: 10,
  radius: 10
  collidesWithPointer: function(pointer) {
    // perform a circle v circle collision test
    let dx = pointer.x - this.x;
    let dy = pointer.y - this.y;
    return Math.sqrt(dx * dx + dy * dy) &lt; this.radius;
  }
});
</code></pre>
        

        <section class="toc">
          <h2 id="toc"><a href="#toc" class="section-link">Table of Contents<span aria-hidden="true">#</span></a></h2>

          <ul aria-labeledby="toc">
            <li>
              <ul>
                <li><a href="#available-buttons">Available Buttons</a></li>
              </ul>
            </li>

            <li>
              <h3 id="properties">Properties</h3>
              <ul aria-labeledby="properties">
                <li>
                  <a href="#pointer">
                    <span>pointer</span>
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <h3 id="methods">Methods</h3>
              <ul aria-labeledby="methods">
                <li>
                  <a href="#initPointer">
                    <span>initPointer()</span>
                  </a>
                </li>
                <li>
                  <a href="#onPointerDown">
                    <span>onPointerDown(callback)</span>
                  </a>
                </li>
                <li>
                  <a href="#onPointerUp">
                    <span>onPointerUp(callback)</span>
                  </a>
                </li>
                <li>
                  <a href="#pointerOver">
                    <span>pointerOver(object)</span>
                  </a>
                </li>
                <li>
                  <a href="#pointerPressed">
                    <span>pointerPressed(button)</span>
                  </a>
                </li>
                <li>
                  <a href="#track">
                    <span>track(objects)</span>
                  </a>
                </li>
                <li>
                  <a href="#untrack">
                    <span>untrack(objects)</span>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </section>

        <section>
          <h2 id="available-buttons">
            <a href="#available-buttons" class="section-link">
              <span>Available Buttons</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Below is a list of buttons that you can use.</p>
<ul>
<li>left, middle, right</li>
</ul>
        </section>

        <section>
          <h2 id="initPointer">
            <a href="#initPointer" class="section-link">
              <span>initPointer()</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Initialize pointer event listeners. This function must be called before using other pointer functions.</p>
          
        </section>
        <section>
          <h2 id="onPointerDown">
            <a href="#onPointerDown" class="section-link">
              <span>onPointerDown(callback)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Register a function to be called on all pointer down events. Is Passed the original Event and the target object (if there is one).</p>
<pre><code class="lang-js">import { initPointer, onPointerDown } from &#39;kontra&#39;;

initPointer();

onPointerDown(function(e, object) {
  // handle pointer down
})
</code></pre>
          <h3 id="title-onPointerDown"><span class="visually-hidden">onPointerDown</span> Parameters</span></h3>
          <dl aria-labelledby="title-onPointerDown">
            <dt>
              <code>callback</code>
              
            </dt>
            <dd><p>Function. Function to call on pointer down.</p>
          </dd>
          </dl>
          
        </section>
        <section>
          <h2 id="onPointerUp">
            <a href="#onPointerUp" class="section-link">
              <span>onPointerUp(callback)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Register a function to be called on all pointer up events. Is Passed the original Event and the target object (if there is one).</p>
<pre><code class="lang-js">import { initPointer, onPointerUp } from &#39;kontra&#39;;

initPointer();

onPointerUp(function(e, object) {
  // handle pointer up
})
</code></pre>
          <h3 id="title-onPointerUp"><span class="visually-hidden">onPointerUp</span> Parameters</span></h3>
          <dl aria-labelledby="title-onPointerUp">
            <dt>
              <code>callback</code>
              
            </dt>
            <dd><p>Function. Function to call on pointer up.</p>
          </dd>
          </dl>
          
        </section>
        <section>
          <h2 id="pointer">
            <a href="#pointer" class="section-link">
              <span>pointer</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Object. Object containing the <code>radius</code> and current <code>x</code> and <code>y</code> position of the pointer relative to the top-left corner of the canvas.</p>
<pre><code class="lang-js">import { initPointer, pointer } from &#39;kontra&#39;;

initPointer();

console.log(pointer);  //=&gt; { x: 100, y: 200, radius: 5 };
</code></pre>
          
        </section>
        <section>
          <h2 id="pointerOver">
            <a href="#pointerOver" class="section-link">
              <span>pointerOver(object)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Check to see if the pointer is currently over the object. Since multiple objects may be rendered on top of one another, only the top most object under the pointer will return true.</p>
<pre><code class="lang-js">import {
  initPointer,
  track,
  pointer,
  pointerOver,
  Sprite
} from &#39;kontra&#39;;

initPointer();

let sprite1 = Sprite({
  x: 10,
  y: 10,
  width: 10,
  height: 10
});
let sprite2 = Sprite({
  x: 15,
  y: 10,
  width: 10,
  height: 10
});

track([sprite1, sprite2]);

sprite1.render();
sprite2.render();

pointer.x = 14;
pointer.y = 15;

console.log(pointerOver(sprite1));  //=&gt; false
console.log(pointerOver(sprite2));  //=&gt; true
</code></pre>
          <h3 id="title-pointerOver"><span class="visually-hidden">pointerOver</span> Parameters</span></h3>
          <dl aria-labelledby="title-pointerOver">
            <dt>
              <code>object</code>
              
            </dt>
            <dd><p>Object. The object to check if the pointer is over.</p>
          </dd>
          </dl>
          
          <h3><span class="visually-hidden">pointerOver</span> Return value</h3>
          <p><p><code>true</code> if the pointer is currently over the object, <code>false</code> otherwise.</p>
          </p>
        </section>
        <section>
          <h2 id="pointerPressed">
            <a href="#pointerPressed" class="section-link">
              <span>pointerPressed(button)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Check if a button is currently pressed. Use during an <code>update()</code> function to perform actions each frame.</p>
<pre><code class="lang-js">import { initPointer, pointerPressed } from &#39;kontra&#39;;

initPointer();

Sprite({
  update: function() {
    if (pointerPressed(&#39;left&#39;)){
      // left mouse button pressed
    }
    else if (pointerPressed(&#39;right&#39;)) {
      // right mouse button pressed
    }
  }
});
</code></pre>
          <h3 id="title-pointerPressed"><span class="visually-hidden">pointerPressed</span> Parameters</span></h3>
          <dl aria-labelledby="title-pointerPressed">
            <dt>
              <code>button</code>
              
            </dt>
            <dd><p>String. Button to check for pressed state.</p>
          </dd>
          </dl>
          
          <h3><span class="visually-hidden">pointerPressed</span> Return value</h3>
          <p><p><code>true</code> if the button is pressed, <code>false</code> otherwise.</p>
          </p>
        </section>
        <section>
          <h2 id="track">
            <a href="#track" class="section-link">
              <span>track(objects)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Begin tracking pointer events for a set of objects. Takes a single object or an array of objects.</p>
<pre><code class="lang-js">import { initPointer, track } from &#39;kontra&#39;;

initPointer();

track(obj);
track([obj1, obj2]);
</code></pre>
          <h3 id="title-track"><span class="visually-hidden">track</span> Parameters</span></h3>
          <dl aria-labelledby="title-track">
            <dt>
              <code>objects</code>
              
            </dt>
            <dd><p>Object or an Array of Objects. Objects to track.</p>
          </dd>
          </dl>
          
        </section>
        <section>
          <h2 id="untrack">
            <a href="#untrack" class="section-link">
              <span>untrack(objects)</span>
              <span aria-hidden="true">#</span>
            </a>
          </h2>

          <p>Remove the callback function for a bound set of objects.</p>
<pre><code class="lang-js">import { untrack } from &#39;kontra&#39;;

untrack(obj);
untrack([obj1, obj2]);
</code></pre>
          <h3 id="title-untrack"><span class="visually-hidden">untrack</span> Parameters</span></h3>
          <dl aria-labelledby="title-untrack">
            <dt>
              <code>objects</code>
              
            </dt>
            <dd><p>Object or an Array of Objects. Object or objects to stop tracking.</p>
          </dd>
          </dl>
          
        </section>

      </div>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/components/prism-javascript.min.js"></script>
  <script src="../js/navbar.js"></script>
</body>
</html>